@using X.PagedList.Mvc.Core;
@using X.PagedList;
@model IEnumerable<Product>

@{
	ViewData["Title"] = "Products";
	<div class="text-end ">
		<a asp-controller="Products" asp-action="Create" class="btn btn-success">Create</a>
	</div>
}

<div class="row" style="margin-right:2%; margin-left:2%;margin-top:20px;">

	@foreach (var item in Model)
	{



		<div class="col-md-3 col-sm-4 col-6 border-primary mb-3">
			<div class="card mb-3 shadow  mb-6 bg-white rounded" style="max-width: 540px; min-width:201px; min-height:270px;">
				<div class="row g-0">
					<div class="col-md-12">
						<div class="card-header text-white " style="background-color:#8A1538;">
							<p class="card-text">
								<h5 class="card-title d-flex " style="flex-direction:row;justify-content:space-between;">
									<div>
										@item.Name
									</div>

									<div>
										<a class="text-white justify-content-end" style="padding:5px;" asp-action="Edit" asp-route-id="@item.Id"><i class="bi bi-pencil-square"></i></a>

										<a class="text-white justify-content-end" style="padding:5px;" asp-action="Delete" asp-route-id="@item.Id"><i class="bi bi-trash"></i></a>
									</div>

								</h5>
							</p>
						</div>
					</div>
					<div class="col-md-6 mx-auto ">
						<img src="@item.ImgUrl" style=" width: 100%;

    object-fit: contain;" alt="@item.Name">
					</div>


					<div class="col-md-12">
						<div class="card-footer">
							<p class="card-text d-flex justify-content-between">
								<a class="btn btn-outline-primary" asp-action="Details" asp-route-id="@item.Id">
									<i class="bi bi-eye-fill"></i> Details
								</a>

								<a class="btn btn-success text-white" asp-controller="Orders" asp-action="AddToShoppingCart" asp-route-id="@item.Id">

									<i class="bi bi-cart-plus"></i> Add to cart (@item.Price&euro;)
								</a>


							</p>
						</div>
					</div>
				</div>
			</div>
		</div>


	}
	<div class=" d-flex align-items-center justify-content-center mt-4">
			@Html.PagedListPager((IPagedList)Model, page => Url.Action("Index", new { page = page }),
	new X.PagedList.Mvc.Common.PagedListRenderOptions
	{
	DisplayItemSliceAndTotal = true,
	ContainerDivClasses = new[] { "navigation" },
	LiElementClasses = new[] { "page-item" },
	PageClasses = new[] { "page-link" },
	})
	</div>


</div>

@section Scripts{
	<script>
		// Workaround to fix style of text for showing items .. through ..
		// Problem related to Boostrap 4 according to issue in link below
		// https://github.com/dncuug/X.PagedList/issues/127
		$(document).ready(function () {
			$('ul.pagination > li.disabled > a').addClass('page-link');
		});
	</script>
}